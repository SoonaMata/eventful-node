/*! eventful-node 29-09-2014 */
var xml2js=require("xml2js"),unirest=require("unirest"),eventful;!function(a){var b=function(){function a(a){this.app_key=a,this.base_url="http://api.eventful.com/rest/"}return a.prototype.searchEvents=function(a,b){console.log("debug1");var c=this.base_url+"events/search?app_key="+this.app_key;for(var d in a)c+="&",c+=d+"="+a[d];unirest.get(c,function(a,c){if(c)return console.error(c),b(c,null);xml2js.parseString(a.body,{explicitArray:!1},function(a,c){return a?(console.error(a),b(a,null)):b(null,c)})})},a}();a.Client=b}(eventful||(eventful={})),module.exports=eventful;